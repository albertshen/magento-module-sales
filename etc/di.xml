<?xml version="1.0" ?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <preference for="AlbertMage\Sales\Api\Data\QueueMessageInterface" type="AlbertMage\Sales\Model\QueueMessage" />
    <!-- Observer -->
    <virtualType name="AlbertMage\Sales\Observer\OrderCreate" type="AlbertMage\Sales\Observer\Order">
        <arguments>
            <argument name="queueTopic" xsi:type="string">order.create</argument>
        </arguments>
    </virtualType>
    <virtualType name="AlbertMage\Sales\Observer\OrderCreateDle" type="AlbertMage\Sales\Observer\Order">
        <arguments>
            <argument name="queueTopic" xsi:type="string">dle.order.create</argument>
        </arguments>
    </virtualType>
    <virtualType name="AlbertMage\Sales\Observer\OrderDeleteDle" type="AlbertMage\Sales\Observer\Order">
        <arguments>
            <argument name="queueTopic" xsi:type="string">dle.order.delete</argument>
        </arguments>
    </virtualType>
    <virtualType name="AlbertMage\Sales\Observer\OrderPaymentCatpure" type="AlbertMage\Sales\Observer\Order">
        <arguments>
            <argument name="queueTopic" xsi:type="string">order.payment.capture</argument>
        </arguments>
    </virtualType>

    <!-- Consumer -->
    <virtualType name="AlbertMage\Sales\Model\OrderCreateConsumer" type="AlbertMage\Sales\Model\OrderConsumer">
        <arguments>
            <argument name="event" xsi:type="string">order_create_consume</argument>
        </arguments>
    </virtualType>
    <virtualType name="AlbertMage\Sales\Model\OrderCancelConsumer" type="AlbertMage\Sales\Model\OrderConsumer">
        <arguments>
            <argument name="event" xsi:type="string">order_cancel_consume</argument>
        </arguments>
    </virtualType>
    <virtualType name="AlbertMage\Sales\Model\OrderExpireNoticeConsumer" type="AlbertMage\Sales\Model\OrderConsumer">
        <arguments>
            <argument name="event" xsi:type="string">order_expire_notice_consume</argument>
        </arguments>
    </virtualType>
    <virtualType name="AlbertMage\Sales\Model\OrderPaymentCaptureConsumer" type="AlbertMage\Sales\Model\OrderConsumer">
        <arguments>
            <argument name="event" xsi:type="string">order_payment_capture_consume</argument>
        </arguments>
    </virtualType>
</config>